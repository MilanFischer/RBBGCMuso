#+BEGIN_HTML
<img width="200px" align="right" position="absolute" style="position: absolute; top: 0; right: 0; border: 0;" src="https://raw.githubusercontent.com/hollorol/RBBGCMuso/master/images/logo.jpg" alt="Fork me on GitHub">
#+END_HTML

* The RBBGCMuso Package
#+AUTHOR: Roland HOLLÓS, Dóra HIDY, Zoltán BARCZA
RBBGCMuso is an R package which supports the easy but powerful application of the [[http://agromo.agrar.mta.hu/bbgc/][Biome-BGCMuSo]] biogeochemical model in R environment. It also provides some additional tools for the model such as Bione-BGCMuSo optimized Monte-Carlo simulation and global sensitivity analysis. If you would like to use the framework, please read the following description.

** Installation
You can install the RBBGCMuso package in several ways depending on the operating system you use. Up to now RBBGCMuso was tested only in Linux and Windows environment, so Mac OS X compatibility cannot be guaranteed yet. In MS Windows you can install the package from binary or from source installer. In Linux you can only install the software from source.  

*** Installation in MS Windows
You can always install the latest RBBGCMuso by copying the following line into the R console (using R or RStudio):
#+BEGIN_SRC R :eval no
source("https://raw.githubusercontent.com/hollorol/RBBGCMuso/master/installWin.R")
#+END_SRC

*** Installation in Linux or from Source in Linux or Windows
If you would like to install the RBBGCMuso package in Linux environment, you have two options.
a) Clone this repository, then build and run the package (further information is available here: [[http://kbroman.org/pkg_primer/pages/build.html][package build and install]])
OR
b) Install the devtools package firts:
#+BEGIN_SRC R :eval no
install.packages("devtools")
#+END_SRC
Then copy the following line into the R session and execute it:
#+BEGIN_SRC R :eval no
devtools::install_github("hollorol/RBBGCMuso/RBBGCMuso")
#+END_SRC


Please note that the last point also works in Windows after you have installed the [[https://cran.r-project.org/bin/windows/Rtools/][Rtools]] Windows software. 

** Quick usage
*** Preparation
In order to use the RBBGCMuso framework, you have to set up the environment, as you would normally do if you use the model without the RBBGCMuso framework. It means that according to the Biome-BGCMuSo terminology you have to have the proper INI file set, the meteorology input file, and the ecophysiological file (EPC) as minimum input. Additional files might be used by the user including nitrogen deposition, management handlers, etc. Please read the corresponding documentation at the [[http://agromo.agrar.mta.hu/bbgc/files/Manual_BBGC_MuSo_v5.pdf][actual Biome-BGCMuSo User's Guide]].
In order to use RBBGCMuso you have to load the package with the following command:
#+BEGIN_SRC R :eval no
library(RBBGCMuso)
#+END_SRC

If you do not yet have a complete, functional model set, you may want to use the so-called copyMusoExampleTo function (part of RBBGCMuso) which downloads a complete set of sample simulation on your hard drive:

#+BEGIN_SRC R :eval no
copyMusoExampleTo()
#+END_SRC 

*** Running the model

You can run the model in spinup, in normal, or in both phase (including the so-called transient run). Using the so-called calibMuso functcion you will be able to execute the the model in both spinup or normal phase.  

*** Visualization of the model output
*** Perform Quick experiments
*** Study the effect of ecophysiological parameters using parameterSweep
*** Monte-Carlo experiments
*** Sensitivity analysis


** Advanced usage

*** setupMuso
*** musoData
*** musoMapping
*** musoMappingFind
*** spinupMuso
*** normalMuso
*** calibMuso
*** plotMuso
*** plotMusoWithData
*** musoQuckEffect
*** musoMonte
*** musoSensi
** Contact

E-mail: hollorol@gmail.com

** Acknowledgements

The research was funded by the Széchenyi 2020 programme, the European Regional Development Fund and the Hungarian Government (GINOP-2.3.2-15-2016-00028). 
